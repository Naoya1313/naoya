\chapter{おわりに}

\section{まとめ}
今回コンテンツ視聴時の生体データを収集し，コンテンツにエフェクトを重畳するシステムを提案した．
コロナ禍の影響で自宅で過ごす時間が増えコンテンツを視聴する機会が増えた．
しかし既存のコンテンツでは映画館などといった屋外施設のような映像体験は得られない．
そこでコンテンツにより臨場感などを味わうのを目的に本システムを開発した．
作成したシステムはコンテンツ視聴時の生体データを収集し盛り上がっている箇所を推定、抽出しコンテンツに重畳できるデータに変換する．
そのデータをもとにコンテンツへエフェクトを重畳をする．コンテンツ毎に生体データを収集し，
それぞれのコンテンツに合ったエフェクトを重畳するのでよりコンテンツを楽しむのが可能になる．

本研究ではスマートウォッチを使用し生体データとして心拍数を取得した．またコンテンツを映画にした．
映画を視聴している時の心拍数を計測し，心拍数が上昇している箇所を抜き出す．抜き出したデータを基にエフェクトを映画画面に重畳する．

本システムにおいて収集した心拍データの心拍数上昇箇所の抽出方法が適切だったか，
重畳するエフェクトは映画に迫力や臨場感を加えれたか評価するため評価実験を行った．評価実験の方法として，
まずエフェクト重畳前の映画を視聴してもらった．安静にした状態で腕にスマートウォッチを取り付け，
映画を見る1分前から心拍数の取得を始め映画が終わるまでを計測した．環境は自宅でも気軽に臨場感が味わえるのが目的なので，
普段映画を自宅で視聴する時と同じ環境で視聴した．次にエフェクトを重畳した映画も視聴してもらい，視聴後のアンケートも行った．

評価実験を通して心拍数上昇箇所の抽出処理における課題点，コンテンツへ重畳するエフェクトの問題点が明らかとなった．
心拍数上昇箇所の抽出処理において，心拍数の変動は人によってさまざまであるためそれに対応ができていなかった．
この原因として，心拍数上昇箇所を抽出するときに設定した安静時の心拍数が適切に設定できていなかったと考えられる．

\section{今後の課題}
今後の課題を心拍数上昇箇所の抽出処理、コンテンツへのエフェクト提示の双方において述べる．

心拍データ処理の課題として挙げられるのは，
心拍数上昇箇所を抽出するときに体を動かしただけやくしゃみをしたなどの映画の盛り上がりとは関係ないところでも心拍数が上昇しており，
そのノイズを除去するのができていなかった．また人によって心拍数の変動が様々であるため全ての人に対応できる処理方法ではなかった．
前者に対応するため心拍数上昇箇所の抽出処理をするときに最初の１分間を安静時の心拍数としたが，安静時の心拍数を常に更新し解決すると考える．
心拍数が盛り上がる前後では心拍数は比較的落ちつていたため，この落ち着いている場所で安静時の心拍数の平均を取る．
この平均を使い閾値を設定し，さまざまな心拍数のパターンに対応する．

後者の問題として，心拍数上昇箇所の抽出処理した後のデータをエフェクトを重畳するのに適したデータにするため1つのJSONデータに足していくだけであった．
複数人が同じ箇所で反応していたところのみ最後の1つのデータに追加していく方法でノイズを除去したり対策可能である．
少ない人数間での比較だったため将来的にはより多くのデータを集める必要がある．
また，本研究では生体データとして心拍数を利用したが今後は額から出る汗や目の動きなどにも注目し，
よりコンテンツ視聴時の感情を取得する必要がある．本研究ではリアルタイムでのデータ処理は行わなかった．
今後はコンテンツにリアルタイムで視聴している時の生体データを取得し，コンテンツへエフェクトを重畳するシステムの開発も考えられる．
評価実験を行った環境は本研究では考慮しなかったが，コンテンツ視聴時の周りの環境も含めた評価実験が必要である．

コンテンツへのエフェクト提示の課題として挙げられるのは，処理したデータを手動でデータ移行，エフェクト提示の際にレベルごとに分けていているためダイナミックなエフェクト重畳ができず，細かな心拍変化に対応できていない．評価実験からの意見/感想の反映が挙げられる．
処理したデータを手動でデータ移行は，サバー側からElectronのデータベース上に計測され1つのデータにまとめられたものをアップデートを行い，リアルタイムの心拍数表示が可能になりエフェクトを最新の取得データで提示が可能になる．
エフェクト提示の際のレベルごとの提示は，データ移行をリアルタイムに送信できるようになり，視聴者の心拍データを処理し提示が可能になりダイナミックなエフェクト提示は可能になり，細かな心拍変化にも対応が解決できる．評価実験からの意見/感想の反映では，エフェクトジャンルの追加，エフェクトの種類/色を選択の追加項目を増やす，エフェクトの変更/修正はAftetEffects，Illastratorで修正を行い，再度評価実験を行い解決できる．


